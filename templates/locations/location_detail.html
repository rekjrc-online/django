{% extends "base.html" %}
{% block content %}
<!-- Profile summary section -->
{% include "profiles/profile_header.html" %}
<div class="card mt-4">
  <div class="card-header">
    {{ profile.displayname }} - Location Details
  </div>
  <div class="card-body">
    {% if location %}
      <p><strong>Name:</strong> {{ location.name }}</p>
      {% if location.website %}
        <p><strong>Website:</strong> <a href="{{ location.website }}" target="_blank">{{ location.website }}</a></p>
      {% endif %}
      <p><strong>City:</strong> {{ location.city }}</p>
      <p><strong>State:</strong> {{ location.state }}</p>
      <p><strong>Latitude:</strong> {{ location.latitude }}</p>
      <p><strong>Longitude:</strong> {{ location.longitude }}</p>

      {% if request.user.is_authenticated and location.human == request.user.human %}
        <div class="text-end mt-3">
          <a href="{% url 'locations:location-update' profile.id %}" class="btn btn-sm btn-primary">Edit</a>
          <a href="{% url 'locations:location-delete' profile.id %}" class="btn btn-sm btn-danger">Delete</a>
        </div>
      {% endif %}
    {% else %}
      <p>No location set for this profile.</p>
      {% if request.user.is_authenticated and profile.human == request.user.human %}
        <a href="{% url 'locations:location-build' profile.id %}" class="btn btn-primary">Add Location</a>
      {% endif %}
    {% endif %}
  </div>
</div>
<br />
{% endblock %}
