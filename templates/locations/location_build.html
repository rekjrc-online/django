{% extends "base.html" %}

{% block content %}
  <h2 style="text-align:center;">
    {% if form.instance.pk %}Edit Location{% else %}Create Location{% endif %}
  </h2>

  <!-- Profile summary section -->
  <div class="card" style="max-width: 600px; margin: 20px auto; padding: 15px; text-align: left;">
    <center>
      {% if profile.avatar %}
        <a target="_blank" href="{{ profile.avatar.url }}">
          <img src="{{ profile.avatar.url }}" alt="Avatar" class="avatar" 
            style="width:100px; height:100px; border-radius:50%; object-fit:cover;">
        </a>
      {% else %}
        <img src="/static/nophoto_LOCATION.png" alt="Avatar" class="avatar" 
          style="width:100px; height:100px; border-radius:50%; object-fit:cover;">
      {% endif %}
    </center>

    <h3 style="margin-bottom: 5px;">Profile: {{ profile.displayname }}</h3>

    {% if profile.bio %}
        <p style="color: #555; font-size: 14px; margin-top: 0;">{{ profile.bio }}</p>
    {% endif %}

    {% if profile.location %}
        <p style="color: #555; font-size: 14px; margin-top: 0;">{{ profile.location }}</p>
    {% endif %}

    {% if profile.website %}
        <p style="color: #555; font-size: 14px; margin-top: 0;"><a href="{{ profile.website }}" target="_blank">{{ profile.website }}</a>
    {% endif %}
  </div>

  <!-- Location form section -->
  <div class="card" style="max-width: 600px; margin: 20px auto; padding: 15px; text-align: center;">
    <form method="post" style="text-align: left;">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit" 
          style="width: 100%; padding: 10px; background-color:#1da1f2; color:white; border:none; border-radius:5px; cursor:pointer;">
          Save
      </button>
    </form>
  </div>
{% endblock %}
